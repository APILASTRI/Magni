<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>magni.utils.matrices module &mdash; Magni 1.5.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Magni 1.5.0 documentation" href="index.html" />
    <link rel="up" title="magni.utils package" href="magni.utils.html" />
    <link rel="next" title="magni.utils.plotting module" href="magni.utils.plotting.html" />
    <link rel="prev" title="magni.utils.config module" href="magni.utils.config.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="magni.utils.plotting.html" title="magni.utils.plotting module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="magni.utils.config.html" title="magni.utils.config module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Magni 1.5.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="magni.html" >magni package</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="magni.utils.html" accesskey="U">magni.utils package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-magni.utils.matrices">
<span id="magni-utils-matrices-module"></span><h1>magni.utils.matrices module<a class="headerlink" href="#module-magni.utils.matrices" title="Permalink to this headline">¶</a></h1>
<p>Module providing matrix emulators.</p>
<p>The matrix emulators of this module are wrappers of fast linear operations
giving the fast linear operations the same basic interface as a numpy ndarray.
Thereby allowing fast linear operations and numpy ndarrays to be used
interchangably in other parts of the package.</p>
<div class="section" id="routine-listings">
<h2>Routine listings<a class="headerlink" href="#routine-listings" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Matrix(magni.utils.validation.types.MatrixBase)</dt>
<dd>Wrap fast linear operations in a matrix emulator.</dd>
<dt>MatrixCollection(magni.utils.validation.types.MatrixBase)</dt>
<dd>Wrap multiple matrix emulators in a single matrix emulator.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-mod docutils literal"><span class="pre">magni.imaging._fastops</span></code></dt>
<dd>Fast linear operations.</dd>
</dl>
</div>
<dl class="class">
<dt id="magni.utils.matrices.Matrix">
<em class="property">class </em><code class="descclassname">magni.utils.matrices.</code><code class="descname">Matrix</code><span class="sig-paren">(</span><em>func</em>, <em>conj_trans</em>, <em>args</em>, <em>shape</em>, <em>is_complex=False</em>, <em>is_valid=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#Matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="magni.utils.validation.types.html#magni.utils.validation.types.MatrixBase" title="magni.utils.validation.types.MatrixBase"><code class="xref py py-class docutils literal"><span class="pre">magni.utils.validation.types.MatrixBase</span></code></a></p>
<p>Wrap fast linear operations in a matrix emulator.</p>
<p><a class="reference internal" href="#magni.utils.matrices.Matrix" title="magni.utils.matrices.Matrix"><code class="xref py py-obj docutils literal"><span class="pre">Matrix</span></code></a> defines a few attributes and internal methods which ensures that
instances have the same basic interface as a numpy ndarray instance without
explicitly forming the array. This basic interface allows instances to be
multiplied with vectors, to be transposed, to be complex conjuagted, and to
assume a shape. Also, instances have an attribute which explicitly forms
the matrix as an ndarray.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>function</em>) &#8211;
The fast linear operation applied to the vector when multiplying the
matrix with a vector.</li>
<li><strong>conj_trans</strong> (<em>function</em>) &#8211;
The fast linear operation applied to the vector when multiplying the
complex conjuated transposed matrix with a vector.</li>
<li><strong>args</strong> (<em>list or tuple</em>) &#8211;
The arguments which should be passed to <em class="xref py py-obj">func</em> and <em class="xref py py-obj">conj_trans</em> in
addition to the vector.</li>
<li><strong>shape</strong> (<em>list or tuple</em>) &#8211;
The shape of the emulated matrix.</li>
<li><strong>is_complex</strong> (<em>bool</em>) &#8211;
The indicator of whether or not the emulated matrix is defined for the
complex numbers (the default is False, which implies that the emulated
matrix is defined for the real numbers only).</li>
<li><strong>is_valid</strong> (<em>bool</em>) &#8211;
The indicator of whether or not the fast linear operation corresponds
to a valid matrix (se discussion below) (the default is True, which
implies that the matrix is considered valid).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="magni.utils.validation.types.html#magni.utils.validation.types.MatrixBase" title="magni.utils.validation.types.MatrixBase"><code class="xref py py-class docutils literal"><span class="pre">magni.utils.validation.types.MatrixBase</span></code></a></dt>
<dd>Superclass of the present class.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The <em class="xref py py-obj">is_valid</em> indicator is an implementation detail used to control
possibly missing operations in the fast linear operation. For instance,
consider the Discrete Fourier Transform (DFT) and its inverse transform.
The forward DFT transform is a matrix-vector product involving the
corresponding DFT matrix. The inverse transform is a matrix-vetor product
involving the complex conjugate transpose DFT matrix. That is, it involves
complex conjugation and transposition, both of which are (individually)
valid transformations of the DFT matrix. However, when implementing the DFT
(and its inverse) using a Fast Fourier Transform (FFT), only the combined
(complex conjugate, transpose) operation is available. Thus, when using an
FFT based <em class="xref py py-obj">magni.util.matrices.Matrix</em>, one can get, e.g., a <a class="reference internal" href="#magni.utils.matrices.Matrix.T" title="magni.utils.matrices.Matrix.T"><code class="xref py py-obj docutils literal"><span class="pre">Matrix.T</span></code></a>
object corresponding to its transpose. However, the operation of computing
a matrix-vector product involving the tranpose DFT matrix is not available
and the <a class="reference internal" href="#magni.utils.matrices.Matrix.T" title="magni.utils.matrices.Matrix.T"><code class="xref py py-obj docutils literal"><span class="pre">Matrix.T</span></code></a> is, consequently, considered an invalid matrix. Only the
combined <em class="xref py py-obj">Matrix.T.conj()</em> or <em class="xref py py-obj">Matrix.conj().T</em> is considered a valid
matrix.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The tranpose operation changed in <a class="reference internal" href="magni.html#module-magni" title="magni"><code class="xref py py-obj docutils literal"><span class="pre">magni</span></code></a> 1.5.0.</p>
<p class="last">For complex matrices, the the <a class="reference internal" href="#magni.utils.matrices.Matrix.T" title="magni.utils.matrices.Matrix.T"><code class="xref py py-obj docutils literal"><span class="pre">T</span></code></a> tranpose operation now yields an
invalid matrix as described above. Prior to <a class="reference internal" href="magni.html#module-magni" title="magni"><code class="xref py py-obj docutils literal"><span class="pre">magni</span></code></a> 1.5.0, the <a class="reference internal" href="#magni.utils.matrices.Matrix.T" title="magni.utils.matrices.Matrix.T"><code class="xref py py-obj docutils literal"><span class="pre">T</span></code></a>
would yield the &#8220;inverse&#8221; which would usually be the complex conjugated
transpose for complex matrices.</p>
</div>
<p class="rubric">Examples</p>
<p>For example, the negative identity matrix could be emulated as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span><span class="o">,</span> <span class="nn">magni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">magni.utils.matrices</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">vec</span><span class="p">:</span> <span class="o">-</span><span class="n">vec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">(),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>The example matrix will have the desired shape:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 3)</span>
</pre></div>
</div>
<p>The example matrix will behave just like an explicit matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">suppress</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
<span class="go">array([[-1.],</span>
<span class="go">       [-2.],</span>
<span class="go">       [-3.]])</span>
</pre></div>
</div>
<p>If, at some point, an explicit representation of the matrix is required,
this can easily be obtained:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[-1., -0., -0.],</span>
<span class="go">       [-0., -1., -0.],</span>
<span class="go">       [-0., -0., -1.]])</span>
</pre></div>
</div>
<p>Likewise, the transpose of the matrix can be obtained:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[-1., -0., -0.],</span>
<span class="go">       [-0., -1., -0.],</span>
<span class="go">       [-0., -0., -1.]])</span>
</pre></div>
</div>
<dl class="method">
<dt id="magni.utils.matrices.Matrix.__array__">
<code class="descname">__array__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#Matrix.__array__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.Matrix.__array__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ndarray representation of the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="magni.utils.matrices.Matrix.A">
<code class="descname">A</code><a class="headerlink" href="#magni.utils.matrices.Matrix.A" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly form the matrix.</p>
<p>The fast linear operations implicitly define a matrix which is usually
not explicitly formed. However, some functionality might require a more
advanced matrix interface than that provided by this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>numpy.ndarray</em>) &#8211;
The explicit matrix.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The explicit matrix is formed by multiplying the matrix with the
columns of an identity matrix and stacking the resulting vectors as
columns in a matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="magni.utils.matrices.Matrix.T">
<code class="descname">T</code><a class="headerlink" href="#magni.utils.matrices.Matrix.T" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the transpose of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>Matrix</em>) &#8211;
The transpose of the matrix.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The fast linear operation and the fast linear transposed operation of
the resulting matrix are the same as those of the current matrix except
swapped. The shape is modified accordingly. This returns an <em class="xref py py-obj">invalid</em>
matrix if the entries are complex numbers as only the complex conjugate
transpose is considered valid.</p>
</dd></dl>

<dl class="method">
<dt id="magni.utils.matrices.Matrix.conj">
<code class="descname">conj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#Matrix.conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.Matrix.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complex conjugate of the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>Matrix</em>) &#8211;
The complex conjugate of the matrix.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The fast linear operation and the fast linear transposed operation of
the resulting matrix are the same as those of the current matrix.
This returns an <em class="xref py py-obj">invalid</em> matrix if the entries are complex numbers as
only the complex conjugate transpose is considered valid.</p>
</dd></dl>

<dl class="method">
<dt id="magni.utils.matrices.Matrix.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#Matrix.dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.Matrix.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply the matrix with a vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vec</strong> (<em>numpy.ndarray</em>) &#8211;
The vector which the matrix is multiplied with.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>vec</strong> (<em>numpy.ndarray</em>) &#8211;
The result of the multiplication.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method honors <code class="xref py py-obj docutils literal"><span class="pre">magni.utils.validation.enable_validate_once</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="magni.utils.matrices.MatrixCollection">
<em class="property">class </em><code class="descclassname">magni.utils.matrices.</code><code class="descname">MatrixCollection</code><span class="sig-paren">(</span><em>matrices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#MatrixCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.MatrixCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="magni.utils.validation.types.html#magni.utils.validation.types.MatrixBase" title="magni.utils.validation.types.MatrixBase"><code class="xref py py-class docutils literal"><span class="pre">magni.utils.validation.types.MatrixBase</span></code></a></p>
<p>Wrap multiple matrix emulators in a single matrix emulator.</p>
<p><a class="reference internal" href="#magni.utils.matrices.MatrixCollection" title="magni.utils.matrices.MatrixCollection"><code class="xref py py-obj docutils literal"><span class="pre">MatrixCollection</span></code></a> defines a few attributes and internal methods which
ensures that instances have the same basic interface as a numpy ndarray
instance without explicitly forming the ndarray. This basic interface
allows instances to be multiplied with vectors, to be transposed, to be
complex conjugated, and to assume a shape. Also, instances have an
attribute which explicitly forms the matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>matrices</strong> (<em>list or tuple</em>) &#8211;
The collection of <a class="reference internal" href="#magni.utils.matrices.Matrix" title="magni.utils.matrices.Matrix"><code class="xref py py-obj docutils literal"><span class="pre">Matrix</span></code></a> instances.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="magni.utils.validation.types.html#magni.utils.validation.types.MatrixBase" title="magni.utils.validation.types.MatrixBase"><code class="xref py py-class docutils literal"><span class="pre">magni.utils.validation.types.MatrixBase</span></code></a></dt>
<dd>Superclass of the present class.</dd>
<dt><a class="reference internal" href="#magni.utils.matrices.Matrix" title="magni.utils.matrices.Matrix"><code class="xref py py-class docutils literal"><span class="pre">Matrix</span></code></a></dt>
<dd>Matrix emulator.</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>For example, two matrix emulators can be combined into one. That is, the
matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span><span class="o">,</span> <span class="nn">magni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">vec</span><span class="p">:</span> <span class="o">-</span><span class="n">vec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negate</span> <span class="o">=</span> <span class="n">magni</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">matrices</span><span class="o">.</span><span class="n">Matrix</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">(),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">suppress</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">negate</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[-1., -0., -0.],</span>
<span class="go">       [-0., -1., -0.],</span>
<span class="go">       [-0., -0., -1.]])</span>
</pre></div>
</div>
<p>And the matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">vec</span><span class="p">:</span> <span class="n">vec</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span> <span class="o">=</span> <span class="n">magni</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">matrices</span><span class="o">.</span><span class="n">Matrix</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="p">(),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reverse</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[ 0.,  0.,  1.],</span>
<span class="go">       [ 0.,  1.,  0.],</span>
<span class="go">       [ 1.,  0.,  0.]])</span>
</pre></div>
</div>
<p>Can be combined into one matrix emulator using the present class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">magni.utils.matrices</span> <span class="kn">import</span> <span class="n">MatrixCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">MatrixCollection</span><span class="p">((</span><span class="n">negate</span><span class="p">,</span> <span class="n">reverse</span><span class="p">))</span>
</pre></div>
</div>
<p>The example matrix will have the desired shape:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 3)</span>
</pre></div>
</div>
<p>The example matrix will behave just like an explicit matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
<span class="go">array([[-3.],</span>
<span class="go">       [-2.],</span>
<span class="go">       [-1.]])</span>
</pre></div>
</div>
<p>If, at some point, an explicit representation of the matrix is required,
this can easily be obtained:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[-0., -0., -1.],</span>
<span class="go">       [-0., -1., -0.],</span>
<span class="go">       [-1., -0., -0.]])</span>
</pre></div>
</div>
<p>Likewise, the transpose of the matrix can be obtained:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">A</span>
<span class="go">array([[-0., -0., -1.],</span>
<span class="go">       [-0., -1., -0.],</span>
<span class="go">       [-1., -0., -0.]])</span>
</pre></div>
</div>
<dl class="method">
<dt id="magni.utils.matrices.MatrixCollection.__array__">
<code class="descname">__array__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#MatrixCollection.__array__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.__array__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ndarray representation of the matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="magni.utils.matrices.MatrixCollection.A">
<code class="descname">A</code><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.A" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly form the matrix.</p>
<p>The collection of matrices implicitly defines a matrix which is usually
not explicitly formed. However, some functionality might require a more
advanced matrix interface than that provided by this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>numpy.ndarray</em>) &#8211;
The explicit matrix.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The explicit matrix is formed by multiplying the matrix with the
columns of an identity matrix and stacking the resulting vectors as
columns in a matrix.</p>
</dd></dl>

<dl class="attribute">
<dt id="magni.utils.matrices.MatrixCollection.shape">
<code class="descname">shape</code><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of the matrix.</p>
<p>The shape of the product of a number of matrices is the number of rows
of the first matrix times the number of columns of the last matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>shape</strong> (<em>tuple</em>) &#8211;
The shape of the matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="magni.utils.matrices.MatrixCollection.T">
<code class="descname">T</code><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.T" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the transpose of the matrix.</p>
<p>The transpose of the product of the number of matrices is the product
of the transpose of the matrices in reverse order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>MatrixCollection</em>) &#8211;
The transpose of the matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="magni.utils.matrices.MatrixCollection.conj">
<code class="descname">conj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#MatrixCollection.conj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.conj" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the complex conjugate of the matrix.</p>
<p>The complex conjugate of the product of the number of matrices is the
product of the complex conjugates of the matrices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> (<em>MatrixCollection</em>) &#8211;
The complex conjugate of the matrix.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="magni.utils.matrices.MatrixCollection.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/matrices.html#MatrixCollection.dot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.matrices.MatrixCollection.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply the matrix with a vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vec</strong> (<em>numpy.ndarray</em>) &#8211;
The vector which the matrix is multiplied with.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>vec</strong> (<em>numpy.ndarray</em>) &#8211;
The result of the multiplication.</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method honors <code class="xref py py-obj docutils literal"><span class="pre">magni.utils.validation.enable_validate_once</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">magni.utils.matrices module</a><ul>
<li><a class="reference internal" href="#routine-listings">Routine listings</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="magni.utils.config.html"
                        title="previous chapter">magni.utils.config module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="magni.utils.plotting.html"
                        title="next chapter">magni.utils.plotting module</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="magni.utils.plotting.html" title="magni.utils.plotting module"
             >next</a> |</li>
        <li class="right" >
          <a href="magni.utils.config.html" title="magni.utils.config module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Magni 1.5.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="magni.html" >magni package</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="magni.utils.html" >magni.utils package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2016, Magni developers.
      Last updated on Jun 30, 2016.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>